//
// Base styles
//

.card {
    // scss-docs-start card-css-vars
    --#{$prefix}card-spacer-y: #{$card-spacer-y};
    --#{$prefix}card-spacer-x: #{$card-spacer-x};
    --#{$prefix}card-title-spacer-y: #{$card-title-spacer-y};
    --#{$prefix}card-border-width: #{$card-border-width};
    --#{$prefix}card-border-color: #{$card-border-color};
    --#{$prefix}card-border-radius: #{$card-border-radius};
    --#{$prefix}card-box-shadow: #{$card-box-shadow};
    --#{$prefix}card-inner-border-radius: #{$card-inner-border-radius};
    --#{$prefix}card-cap-padding-y: #{$card-cap-padding-y};
    --#{$prefix}card-cap-padding-x: #{$card-cap-padding-x};
    --#{$prefix}card-cap-bg: #{$card-cap-bg};
    --#{$prefix}card-bg: #{$card-bg};
    --#{$prefix}card-img-overlay-padding: #{$card-img-overlay-padding};
    --#{$prefix}card-group-margin: #{$card-group-margin};
    // scss-docs-end card-css-vars

    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    height: var(--#{$prefix}card-height);
    color: var(--#{$prefix}body-color);
    word-wrap: break-word;
    background-color: var(--#{$prefix}card-bg);
    background-clip: border-box;
    border: var(--#{$prefix}card-border-width) solid var(--#{$prefix}card-border-color);
    box-shadow: var(--#{$prefix}card-box-shadow);
    @include border-radius(var(--#{$prefix}card-border-radius));

    > hr {
        margin-right: 0;
        margin-left: 0;
    }

    > .list-group {
        border-top: inherit;
        border-bottom: inherit;

        &:first-child {
            border-top-width: 0;
            @include border-top-radius(var(--#{$prefix}card-inner-border-radius));
        }

        &:last-child {
            border-bottom-width: 0;
            @include border-bottom-radius(var(--#{$prefix}card-inner-border-radius));
        }
    }

    > .card-header + .list-group,
    > .list-group + .card-footer {
        border-top: 0;
    }
}

.card {
    border: 0;

    .card-header {
        display: flex;
        justify-content: space-between;
        align-items: stretch;
        flex-wrap: wrap;
        min-height: $card-header-min-height;
        padding: $card-header-padding-y $card-header-padding-x;
        color: $card-header-color;
        background-color: $card-header-bg-color;
        border-bottom: $card-header-border-bottom;

        .card-title {
            display: flex;
            align-items: center;
            margin: $card-title-margin;
            margin-left: 0;

            &.flex-column {
                align-items: flex-start;
                justify-content: center;
            }

            .card-icon {
                margin-right: $card-icon-margin-right;
                line-height: $card-icon-line-height;

                i {
                    font-size: $card-icon-font-size;
                    color: $card-icon-color;
                    line-height: $card-icon-line-height;

                    &:after,
                    &:before {
                        content: "";
                        line-height: $card-icon-line-height;
                    }
                }
            }

            .svg-icon {
                color: $card-icon-color;

                svg {
                    height: $card-icon-svg-height;
                    width: $card-icon-svg-width;
                }
            }

            &,
            .card-label {
                font-weight: $card-label-font-weight;
                font-size: $card-label-font-size;
                color: $card-label-color;
            }

            .card-label {
                margin: 0 $card-label-margin 0 0;
                flex-wrap: wrap;
            }

            small,
            .small {
                color: $card-title-small-color;
                font-size: $card-title-small-font-size;
            }

            .h1,
            .h2,
            .h3,
            .h4,
            .h5,
            h1,
            h2,
            h3,
            h4,
            h5 {
                margin-bottom: 0;
            }
        }

        .card-toolbar {
            display: flex;
            align-items: center;
            margin: $card-toolbar-margin 0;
            flex-wrap: wrap;
        }
    }

    .card-body {
        padding: $card-body-padding-y $card-body-padding-x;
        color: $card-body-color;
    }

    .card-footer {
        padding: $card-footer-padding-y $card-footer-padding-x;
        color: $card-footer-color;
        background-color: $card-footer-bg-color;
        border-top: $card-footer-border-top;
    }

    .card-scroll {
        position: relative;
        overflow: auto;
    }

    &.card-px-0 {
        .card-body,
        .card-footer,
        .card-header {
            padding-left: 0;
            padding-right: 0;
        }
    }

    &.card-py-0 {
        .card-body,
        .card-footer,
        .card-header {
            padding-top: 0;
            padding-bottom: 0;
        }
    }

    &.card-p-0 {
        .card-body,
        .card-footer,
        .card-header {
            padding: 0;
        }
    }

    &.card-dashed {
        box-shadow: none;
        border: $card-dashed-border;

        > .card-header {
            border-bottom: $card-dashed-border;
        }

        > .card-footer {
            border-top: $card-dashed-border;
        }
    }

    &.card-bordered {
        box-shadow: none;
        border: $card-bordered-border;
    }

    &.card-flush {
        > .card-header {
            border-bottom: 0 !important;
        }

        > .card-footer {
            border-top: 0 !important;
        }
    }

    &.card-shadow {
        box-shadow: $card-shadow-box-shadow;
        border: $card-shadow-border;
    }

    &.card-reset {
        border: 0 !important;
        box-shadow: none !important;
        background-color: transparent !important;

        > .card-header {
            border-bottom: 0 !important;
        }

        > .card-footer {
            border-top: 0 !important;
        }
    }

    &.card-borderless {
        border: 0 !important;

        > .card-header {
            border-bottom: 0 !important;
        }

        > .card-footer {
            border-top: 0 !important;
        }
    }

    &.card-border-0 {
        border: 0 !important;
    }
}

.card-body {
    flex: 1 1 auto;
    padding: var(--#{$prefix}card-spacer-y) var(--#{$prefix}card-spacer-x);
    color: var(--#{$prefix}card-color);
}

.card-title {
    margin-bottom: var(--#{$prefix}card-title-spacer-y);
    color: var(--#{$prefix}card-title-color);
}

.card-subtitle {
    margin-top: calc(-0.5 * var(--#{$prefix}card-title-spacer-y));
    margin-bottom: 0;
    color: var(--#{$prefix}card-subtitle-color);
}

.card-text:last-child {
    margin-bottom: 0;
}

.card-link {
    + .card-link {
        margin-left: var(--#{$prefix}card-spacer-x);
    }
}

.card-header {
    padding: var(--#{$prefix}card-cap-padding-y) var(--#{$prefix}card-cap-padding-x);
    margin-bottom: 0;
    color: var(--#{$prefix}card-cap-color);
    background-color: var(--#{$prefix}card-cap-bg);
    border-bottom: var(--#{$prefix}card-border-width) solid var(--#{$prefix}card-border-color);

    &:first-child {
        @include border-radius(var(--#{$prefix}card-inner-border-radius) var(--#{$prefix}card-inner-border-radius) 0 0);
    }
}

.card-footer {
    padding: var(--#{$prefix}card-cap-padding-y) var(--#{$prefix}card-cap-padding-x);
    color: var(--#{$prefix}card-cap-color);
    background-color: var(--#{$prefix}card-cap-bg);
    border-top: var(--#{$prefix}card-border-width) solid var(--#{$prefix}card-border-color);

    &:last-child {
        @include border-radius(0 0 var(--#{$prefix}card-inner-border-radius) var(--#{$prefix}card-inner-border-radius));
    }
}

//
// Header navs
//

.card-header-tabs {
    margin-right: calc(-0.5 * var(--#{$prefix}card-cap-padding-x));
    margin-bottom: calc(-1 * var(--#{$prefix}card-cap-padding-y));
    margin-left: calc(-0.5 * var(--#{$prefix}card-cap-padding-x));
    border-bottom: 0;

    .nav-link.active {
        background-color: var(--#{$prefix}card-bg);
        border-bottom-color: var(--#{$prefix}card-bg);
    }
}

.card-header-pills {
    margin-right: calc(-0.5 * var(--#{$prefix}card-cap-padding-x));
    margin-left: calc(-0.5 * var(--#{$prefix}card-cap-padding-x));
}

// Card image

.card-img-overlay {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    padding: var(--#{$prefix}card-img-overlay-padding);
    @include border-radius(var(--#{$prefix}card-inner-border-radius));
}

.card-img,
.card-img-top,
.card-img-bottom {
    width: 100%;
}

.card-img,
.card-img-top {
    @include border-top-radius(var(--#{$prefix}card-inner-border-radius));
}

.card-img,
.card-img-bottom {
    @include border-bottom-radius(var(--#{$prefix}card-inner-border-radius));
}

//
// Card groups
//

.card-group {
    > .card {
        margin-bottom: var(--#{$prefix}card-group-margin);
    }

    @include media-breakpoint-up(sm) {
        display: flex;
        flex-flow: row wrap;

        > .card {
            flex: 1 0 0%;
            margin-bottom: 0;

            + .card {
                margin-left: 0;
                border-left: 0;
            }

            &:not(:last-child) {
                @include border-end-radius(0);

                .card-img-top,
                .card-header {
                    border-top-right-radius: 0;
                }
                .card-img-bottom,
                .card-footer {
                    border-bottom-right-radius: 0;
                }
            }

            &:not(:first-child) {
                @include border-start-radius(0);

                .card-img-top,
                .card-header {
                    border-top-left-radius: 0;
                }
                .card-img-bottom,
                .card-footer {
                    border-bottom-left-radius: 0;
                }
            }
        }
    }
}

@each $breakpoint in map-keys($breakpoints) {
    @include media-breakpoint-up($breakpoint) {
        $infix: breakpoint-infix($breakpoint, $breakpoints);

        .card {
            &.card#{$infix}-stretch {
                height: calc(100% - var(--#{$prefix}gutter-y));
            }

            &.card#{$infix}-stretch-75 {
                height: calc(75% - var(--#{$prefix}gutter-y));
            }

            &.card#{$infix}-stretch-50 {
                height: calc(50% - var(--#{$prefix}gutter-y));
            }

            &.card#{$infix}-stretch-33 {
                height: calc(33.333% - var(--#{$prefix}gutter-y));
            }

            &.card#{$infix}-stretch-25 {
                height: calc(25% - var(--#{$prefix}gutter-y));
            }

            .card-header#{$infix}-stretch {
                padding-top: 0 !important;
                padding-bottom: 0 !important;
                align-items: stretch;

                .card-toolbar {
                    margin: 0;
                    align-items: stretch;
                }
            }
        }
    }
}

.card-p {
    padding: $card-p-padding-y $card-p-padding-x !important;
}

.card-px {
    padding-left: $card-p-padding-x !important;
    padding-right: $card-p-padding-x !important;
}

.card-shadow {
    box-shadow: $card-shadow-box-shadow;
}

.card-py {
    padding-top: $card-p-padding-y !important;
    padding-bottom: $card-p-padding-y !important;
}

.card-rounded {
    border-radius: $card-rounded-border-radius;
}

.card-rounded-start {
    @include border-start-radius($card-rounded-border-radius);
}

.card-rounded-end {
    @include border-end-radius($card-rounded-border-radius);
}

.card-rounded-top {
    @include border-top-radius($card-rounded-border-radius);
}

.card-rounded-bottom {
    @include border-bottom-radius($card-rounded-border-radius);
}

@include media-breakpoint-down(md) {
    .card {
        > .card-header {
            &:not(.flex-nowrap) {
                padding-top: $card-header-not-padding;
                padding-bottom: $card-header-not-padding;
            }
        }
    }
}

@if $enable-dark-mode {
    @include color-mode(dark, true) {
        .card {
            --bs-card-box-shadow: none;
        }
    }
}
